<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>从零开始的服务器搭建纪实 | LuSia Ventus</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="shortcut icon" href="/images/圆形pink.png">
    <meta name="description" content="Ventus` Blog">
    <meta name="keywords" content="LuSia Ventus, Ventus, vuepress-theme-simple, 博客, vue">
    <meta name="author" content="Ventus">
    
    <link rel="preload" href="/assets/css/3.styles.0523860e.css" as="style"><link rel="preload" href="/assets/js/app.daa4b047.js" as="script"><link rel="preload" href="/assets/js/0.64ac24e1.js" as="script"><link rel="preload" href="/assets/js/24.36b5ef6d.js" as="script"><link rel="prefetch" href="/assets/js/1.ea54e935.js"><link rel="prefetch" href="/assets/js/10.4e625bc9.js"><link rel="prefetch" href="/assets/js/11.afa8792e.js"><link rel="prefetch" href="/assets/js/12.05da46fb.js"><link rel="prefetch" href="/assets/js/13.48c7aea7.js"><link rel="prefetch" href="/assets/js/14.948e450b.js"><link rel="prefetch" href="/assets/js/15.9df52e2d.js"><link rel="prefetch" href="/assets/js/16.b4c21cfd.js"><link rel="prefetch" href="/assets/js/17.979b1c37.js"><link rel="prefetch" href="/assets/js/18.d3e10269.js"><link rel="prefetch" href="/assets/js/19.98b1b60e.js"><link rel="prefetch" href="/assets/js/20.3be70d4f.js"><link rel="prefetch" href="/assets/js/21.c9283b8e.js"><link rel="prefetch" href="/assets/js/22.149cecca.js"><link rel="prefetch" href="/assets/js/23.67125a57.js"><link rel="prefetch" href="/assets/js/4.669b3083.js"><link rel="prefetch" href="/assets/js/5.1a2bf215.js"><link rel="prefetch" href="/assets/js/6.fa23b811.js"><link rel="prefetch" href="/assets/js/7.2df3f4b8.js"><link rel="prefetch" href="/assets/js/8.eee1554a.js"><link rel="prefetch" href="/assets/js/9.a6a7b906.js">
    <link rel="stylesheet" href="/assets/css/3.styles.0523860e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container vuepress-theme-simple"><header class="header"><a href="/" title="Ventus` Blog" class="site-name router-link-active">
      LuSia Ventus
    </a> <div style="clear: both"></div> <!----></header> <section class="post-view"><div class="post-head"><h1 class="post-title">
      从零开始的服务器搭建纪实
    </h1> <time datetime="1/19/2022, 3:58:22 PM" title="1/19/2022, 3:58:22 PM" pubdate="pubdate" class="post-date">
  1 year ago
</time></div> <div class="content__default"><p><em><strong>LuvSia</strong></em></p> <p><em><strong>Server Building</strong></em></p> <ul><li><strong>目录</strong> <ul><li><a href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">准备工作</a></li> <li><a href="#%E6%90%AD%E5%BB%BA%E6%80%9D%E8%B7%AF">搭建思路</a></li> <li><a href="#%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA">开始搭建</a> <ul><li><a href="#%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF">宝塔面板</a></li> <li><a href="#x-ui">X-UI</a></li> <li><a href="#alist">Alist</a></li> <li><a href="#transmission">Transmission</a> <ul><li><a href="#1docker%E5%AE%89%E8%A3%85">1.Docker安装</a></li> <li><a href="#2-1%E6%99%AE%E9%80%9A%E5%AE%89%E8%A3%85">2-1.普通安装</a></li> <li><a href="#2-2transmission-web-control">2-2.transmission web control</a></li></ul></li> <li><a href="#rclone">Rclone</a></li> <li><a href="#live-torrent">Live-torrent</a></li> <li><a href="#cloudflare-warp">Cloudflare WARP</a></li></ul></li></ul></li> <li><a href="#%E5%90%8E%E8%AE%B0">后记</a></li> <li><a href="#%E6%84%9F%E8%B0%A2">感谢</a></li></ul> <h2 id="准备工作"><a href="#准备工作" class="header-anchor">#</a> 准备工作</h2> <table><thead><tr><th>VPS</th> <th style="text-align:center;">Domain</th> <th style="text-align:center;"></th> <th style="text-align:center;"></th> <th style="text-align:center;"></th> <th style="text-align:center;"></th> <th style="text-align:center;"></th></tr></thead> <tbody><tr><td><a href="https://www.dmit.io" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/dmit.png" alt="dmit"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:center;">example.com</td> <td style="text-align:center;"><a href="https://www.nginx.com" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/nginx.png" alt="nginx" title="nginx"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:center;"><a href="https://www.mysql.com" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/mysql.png" alt="mysql" title="mysql"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:center;"><a href="https://www.php.net" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/php.png" alt="php" title="php"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:center;"><a href="https://www.phpmyadmin.net" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/phpmyadmin.png" alt="phpmyadmin" title="phpmyadmin"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:center;"><a href="https://www.cloudflare.com" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/cloudflare.png" alt="cloudflare"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p><em>更新软件源</em></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>apt update
</code></pre></div><h2 id="搭建思路"><a href="#搭建思路" class="header-anchor">#</a> 搭建思路</h2> <p><strong>预留一级域名搭建网站</strong>，<strong><s>给各个应用添加前端网页根路径。</s></strong></p> <p><strong>后因部分应用无法添加<code>二级目录</code>（网页根路径），所以这里只能使用添加<code>二级域名</code>的思路，区别各个应用。</strong></p> <p><strong>再通过添加<code>反向代理</code>，实现分域名访问不同前端应用。</strong></p> <h2 id="开始搭建"><a href="#开始搭建" class="header-anchor">#</a> 开始搭建</h2> <h3 id="宝塔面板"><a href="#宝塔面板" class="header-anchor">#</a> 宝塔面板</h3> <table><thead><tr><th style="text-align:center;">Work</th> <th style="text-align:center;">Web</th></tr></thead> <tbody><tr><td style="text-align:center;">宝塔面板</td> <td style="text-align:center;"><a href="https://www.hostcli.com" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/bt.png" alt="bt" title="宝塔面板"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p><strong>1.使用一键配置工具。</strong>
一键脚本集成工具</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> <span class="token parameter variable">-O</span> box.sh https://raw.githubusercontent.com/BlueSkyXN/SKY-BOX/main/box.sh <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x box.sh <span class="token operator">&amp;&amp;</span> <span class="token function">clear</span> <span class="token operator">&amp;&amp;</span> ./box.sh
</code></pre></div><p>或</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> <span class="token parameter variable">-O</span> install.sh http://io.bt.sy/install/install-ubuntu_6.0.sh <span class="token operator">&amp;&amp;</span> <span class="token function">bash</span> install.sh
</code></pre></div><p><strong>2.安装<code>nginx-1.21</code>、<code>mysql-5.5</code>、<code>php-7.4</code>、<code>phpmyadmin-5.0</code>四件套</strong></p> <p><strong>3.添加站点。</strong></p> <table><thead><tr><th>Work</th> <th>Domain</th> <th style="text-align:center;"></th></tr></thead> <tbody><tr><td>alist</td> <td>a.example.com</td> <td style="text-align:center;"><strong>正常</strong></td></tr> <tr><td>宝塔面板</td> <td>b.example.com</td> <td style="text-align:center;"><strong>正常</strong></td></tr> <tr><td>Transmission</td> <td>t.example.com</td> <td style="text-align:center;"><strong>正常</strong></td></tr> <tr><td>X-UI</td> <td>x.example.com</td> <td style="text-align:center;"><strong>正常</strong></td></tr></tbody></table> <p><strong>4.设置，添加SSL，<code>强制开启https</code>。</strong></p> <p><strong>记录<code>证书路径</code>，证书可以直接在<code>宝塔面板</code>进行更新，或是设置定时任务自动更新;</strong></p> <p><strong><code>宝塔面板</code>申请的证书在如下目录：<code>/www/server/panel/vhost/cert/你的域名/</code> 目录之下。</strong></p> <p>***<code>强制开启https</code>***。</p> <p><strong>5.关闭面板<code>安全入户</code>，即删除<code>二级目录</code>。</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>rm <span class="token operator">-</span>f <span class="token operator">/</span>www<span class="token operator">/</span>server<span class="token operator">/</span>panel<span class="token operator">/</span>data<span class="token operator">/</span>admin_path<span class="token punctuation">.</span>pl
</code></pre></div><p><strong>6.在<code>Cloudflare</code>中解析二级域名<code>b.example.com</code></strong></p> <p><strong>7.添加反向代理到<code>b.example.com</code></strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>代理名称 宝塔面板
目标<span class="token constant">URL</span>  <span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">8888</span>  发送域名 $host
</code></pre></div><p><strong>8.安装<code>docker</code>安装器。</strong></p> <h1 id="x-ui"><a href="#x-ui" class="header-anchor">#</a> <em><code>X-UI</code></em></h1> <table><thead><tr><th>Work</th> <th>Web</th> <th>Tools</th></tr></thead> <tbody><tr><td>x-ui</td> <td><a href="https://github.com/vaxilu/x-ui" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/xui.png" alt="xui" title="xui"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><a href="https://hub.docker.com/r/enwaiax/x-ui" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/docker.png" alt="docker"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p><strong>1.镜像源</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>enwaiax<span class="token operator">/</span>x<span class="token operator">-</span>ui<span class="token operator">:</span>latest
</code></pre></div><p><strong>2.安装运行</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">mkdir</span> x-ui <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> x-ui
<span class="token function">docker</span> run <span class="token parameter variable">-itd</span> <span class="token parameter variable">--network</span><span class="token operator">=</span>host <span class="token punctuation">\</span>
    <span class="token parameter variable">-v</span> <span class="token environment constant">$PWD</span>/db/:/etc/x-ui/ <span class="token punctuation">\</span>
    <span class="token parameter variable">-v</span> <span class="token environment constant">$PWD</span>/cert/:/root/cert/ <span class="token punctuation">\</span>
    <span class="token parameter variable">--name</span> x-ui <span class="token parameter variable">--restart</span><span class="token operator">=</span>unless-stopped <span class="token punctuation">\</span>
    enwaiax/x-ui:latest
</code></pre></div><p><strong>3.在<code>Cloudflare</code>中解析二级域名<code>x.example.com</code></strong></p> <p><strong>4.添加反向代理到<code>x.example.com</code></strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>代理名称 x<span class="token operator">-</span>ui
目标<span class="token constant">URL</span>  <span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">54321</span>  发送域名 $host
</code></pre></div><p><strong>5.配置<code>VMess</code>协议，开启<code>ws</code>，路径<code>/xiya</code>。</strong></p> <p><strong>6.开启CDN加速，在<code>nginx</code>配置文件中添加如下。</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>location <span class="token operator">/</span>xiya <span class="token punctuation">{</span>
        proxy_redirect off<span class="token punctuation">;</span>
        proxy_pass http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">22513</span><span class="token punctuation">;</span>
        proxy_http_version <span class="token number">1.1</span><span class="token punctuation">;</span>
        proxy_set_header Upgrade $http_upgrade<span class="token punctuation">;</span>
        proxy_set_header Connection <span class="token string">&quot;upgrade&quot;</span><span class="token punctuation">;</span>
        proxy_set_header Host $http_host<span class="token punctuation">;</span>
        proxy_read_timeout 300s<span class="token punctuation">;</span>
        # Show realip <span class="token keyword">in</span> v2ray access<span class="token punctuation">.</span>log
        proxy_set_header <span class="token constant">X</span><span class="token operator">-</span>Real<span class="token operator">-</span><span class="token constant">IP</span> $remote_addr<span class="token punctuation">;</span>
        proxy_set_header <span class="token constant">X</span><span class="token operator">-</span>Forwarded<span class="token operator">-</span>For $proxy_add_x_forwarded_for<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p><strong>7.开启<code>Cloudflare</code>小云朵，并优选IP。</strong></p> <p><strong>8.<a href="https://github.com/XIU2/CloudflareSpeedTest/releases" target="_blank" rel="noopener noreferrer">下载优选IP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，选出优选IP后，客户端如下配置</strong></p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> 填入优选IP
</span><span class="token prefix inserted">+</span><span class="token line"> 更改端口为443；
</span><span class="token prefix inserted">+</span><span class="token line"> host设置x.example.com；
</span><span class="token prefix inserted">+</span><span class="token line"> 开启tls。
</span></span></code></pre></div><p><strong>9.Surge配置</strong></p> <div class="language-go extra-class"><pre class="language-go"><code>🇭🇰 VMess <span class="token operator">=</span> vmess<span class="token punctuation">,</span> <span class="token number">104.19</span><span class="token number">.79</span><span class="token number">.223</span><span class="token punctuation">,</span> <span class="token number">443</span><span class="token punctuation">,</span> username<span class="token operator">=</span>2d285385<span class="token operator">-</span>836d<span class="token operator">-</span>4b30<span class="token operator">-</span>f32c<span class="token operator">-</span>11cdd637aeed<span class="token punctuation">,</span> tls<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span> tls13<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">,</span> ws<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span> ws<span class="token operator">-</span>path<span class="token operator">=</span><span class="token operator">/</span>xiya<span class="token punctuation">,</span> sni<span class="token operator">=</span>example<span class="token punctuation">.</span>com<span class="token punctuation">,</span> ws<span class="token operator">-</span>headers<span class="token operator">=</span>Host<span class="token punctuation">:</span>example<span class="token punctuation">.</span>com<span class="token punctuation">,</span> skip<span class="token operator">-</span>cert<span class="token operator">-</span>verify<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tfo<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">,</span> udp<span class="token operator">-</span>relay<span class="token operator">=</span><span class="token boolean">true</span>
</code></pre></div><h1 id="alist"><a href="#alist" class="header-anchor">#</a> <em><code>Alist</code></em></h1> <table><thead><tr><th>Work</th> <th>Web</th> <th>Tools</th></tr></thead> <tbody><tr><td>Alist</td> <td><a href="https://github.com/Xhofe/alist" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/alist.png" alt="alist" title="alist"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><a href="https://hub.docker.com/r/xhofe/alist" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/docker.png" alt="docker"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p><strong>1.添加镜像源</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>xhofe<span class="token operator">/</span>alist<span class="token operator">:</span>latest
</code></pre></div><p><strong>2.不配置容器，使用代码</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>docker run <span class="token operator">-</span>d <span class="token operator">--</span>restart<span class="token operator">=</span>always <span class="token operator">-</span>v <span class="token operator">/</span>etc<span class="token operator">/</span>alist<span class="token operator">:</span><span class="token operator">/</span>opt<span class="token operator">/</span>alist<span class="token operator">/</span>data <span class="token operator">-</span>p <span class="token number">5244</span><span class="token operator">:</span><span class="token number">5244</span> <span class="token operator">--</span>name<span class="token operator">=</span><span class="token string">&quot;alist&quot;</span> xhofe<span class="token operator">/</span>alist<span class="token operator">:</span>latest
</code></pre></div><p><strong>3.在<code>Cloudflare</code>中解析二级域名<code>a.example.com</code></strong></p> <p><strong>4.添加反向代理到a.example.com</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>代理名称 alist
目标<span class="token constant">URL</span>  <span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">5244</span>  发送域名 $host
</code></pre></div><h1 id="transmission"><a href="#transmission" class="header-anchor">#</a> <em><code>Transmission</code></em></h1> <table><thead><tr><th>Work</th> <th>Web</th> <th>Tools</th></tr></thead> <tbody><tr><td>Transmission</td> <td><a href="https://github.com/helloxz/docker-transmission" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/transmission.png" alt="transmission" title="transmission"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><a href="https://hub.docker.com/r/helloz/transmission" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/docker.png" alt="docker"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h4 id="_1-docker安装"><a href="#_1-docker安装" class="header-anchor">#</a> 1.Docker安装</h4> <p><strong>构建镜像</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment"># 克隆仓库</span>
git <span class="token keyword">clone</span> https<span class="token punctuation">:</span><span class="token comment">//github.com/helloxz/docker-transmission.git</span>
<span class="token comment"># 进入仓库目录</span>
cd docker<span class="token operator">-</span>transmission
<span class="token comment"># 构建Docker镜像</span>
docker build <span class="token operator">-</span>t luvsia<span class="token punctuation">:</span>transmission
</code></pre></div><p><strong>运行镜像</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>docker run <span class="token operator">-</span>d <span class="token operator">--</span>name<span class="token operator">=</span><span class="token string">&quot;transmission&quot;</span> \
  <span class="token operator">-</span>e <span class="token constant">USERNAME</span><span class="token operator">=</span>ventus \
  <span class="token operator">-</span>e <span class="token constant">PASSWORD</span><span class="token operator">=</span>ysw554247430 \
  <span class="token operator">-</span>p <span class="token number">9091</span><span class="token operator">:</span><span class="token number">9091</span> \
  <span class="token operator">-</span>p <span class="token number">51413</span><span class="token operator">:</span><span class="token number">51413</span> \
  <span class="token operator">-</span>p <span class="token number">51413</span><span class="token operator">:</span><span class="token number">51413</span><span class="token operator">/</span>udp \
  <span class="token operator">-</span>v <span class="token operator">/</span>GoogleDrive<span class="token operator">:</span><span class="token operator">/</span>Downloads \
  <span class="token operator">--</span>restart<span class="token operator">=</span>always \
  <span class="token literal-property property">luvsia</span><span class="token operator">:</span>transmission
</code></pre></div><p><strong>/GoogleDrive:本地下载目录为<a href="#Rclone-mount-GoogleDrive"><code>Rclone</code> mount <code>GoogleDrive</code></a>中的谷歌云盘目录，自动下载到谷歌云盘，实现无线网盘</strong></p> <h4 id="_2-1-普通安装"><a href="#_2-1-普通安装" class="header-anchor">#</a> 2-1.普通安装</h4> <p><strong>安装transmission-daemon</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>apt<span class="token operator">-</span><span class="token keyword">get</span> install transmission<span class="token operator">-</span>daemon
</code></pre></div><p><strong>首先执行一次启动和停止命令，防止配置文件被覆盖</strong></p> <p>启动</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>service transmission<span class="token operator">-</span>daemon start
</code></pre></div><p>停止</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>service transmission<span class="token operator">-</span>daemon stop
</code></pre></div><p>重启</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>service transmission<span class="token operator">-</span>daemon restart
</code></pre></div><p><strong>修改transmission-daemon配置文件</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>nano <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib<span class="token operator">/</span>transmission<span class="token operator">-</span>daemon<span class="token operator">/</span>info<span class="token operator">/</span>settings<span class="token punctuation">.</span>json
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string-property property">&quot;rpc-host-whitelist&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//域名白名单，*为允许所有</span>
<span class="token string-property property">&quot;rpc-host-whitelist-enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//是否开启白名单，false为否</span>
<span class="token string-property property">&quot;rpc-password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;远程登录密码&quot;</span><span class="token punctuation">,</span>
<span class="token string-property property">&quot;rpc-port&quot;</span><span class="token operator">:</span> <span class="token number">9091</span><span class="token punctuation">,</span> <span class="token comment">//远程登录端口</span>
<span class="token string-property property">&quot;rpc-username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;远程帐号&quot;</span><span class="token punctuation">,</span>
<span class="token string-property property">&quot;rpc-whitelist&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span> <span class="token comment">//ip白名单</span>
<span class="token string-property property">&quot;rpc-whitelist-enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">//是否开启ip白名单，false为否</span>
</code></pre></div><p><strong>执行启动命令</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>service transmission<span class="token operator">-</span>daemon start
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>systemctl enable transmission<span class="token operator">-</span>daemon<span class="token punctuation">.</span>service
</code></pre></div><h4 id="_2-2-transmission-web-control"><a href="#_2-2-transmission-web-control" class="header-anchor">#</a> 2-2.transmission web control</h4> <p><strong>获取安装脚本</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>wget https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>ronggang<span class="token operator">/</span>transmission<span class="token operator">-</span>web<span class="token operator">-</span>control<span class="token operator">/</span>raw<span class="token operator">/</span>master<span class="token operator">/</span>release<span class="token operator">/</span>install<span class="token operator">-</span>tr<span class="token operator">-</span>control<span class="token operator">-</span>cn<span class="token punctuation">.</span>sh
</code></pre></div><p><strong>执行安装脚本</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>bash install<span class="token operator">-</span>tr<span class="token operator">-</span>control<span class="token operator">-</span>cn<span class="token punctuation">.</span>sh
</code></pre></div><p><strong>3.在<code>Cloudflare</code>中解析二级域名<code>t.example.com</code></strong></p> <p><strong>4.添加反向代理到t.example.com</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>代理名称 transmission
目标<span class="token constant">URL</span>  <span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">9091</span>  发送域名 $host
</code></pre></div><p><strong>5.修改默认保存目录<code>/GoogleDrive</code>，启用临时目录<code>/Downloads</code>，记得给<code>!权限!</code></strong></p> <div class="language- extra-class"><pre class="language-text"><code>把`/Downloads`赋予777权限
</code></pre></div><h1 id="rclone"><a href="#rclone" class="header-anchor">#</a> <em><code>Rclone</code></em></h1> <table><thead><tr><th>Work</th> <th>Web</th> <th>Tools</th></tr></thead> <tbody><tr><td>Rclone</td> <td><a href="https://github.com/rclone/rclone" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/rclone.png" alt="rclone" title="rclone"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><a href="https://drive.google.com" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/googledrive.png" alt="googledrive"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p><strong>1.安装<code>Rclone</code></strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> https://www.moerats.com/usr/shell/rclone_debian.sh <span class="token operator">&amp;&amp;</span> <span class="token function">bash</span> rclone_debian.sh
</code></pre></div><p><strong>2.初始化配置</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rclone config
</code></pre></div><p><strong>3.选择<code>GoogleDrive</code>，剩余操作参考<a href="https://www.chenweiliang.com/cwl-1966.html" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <p>CMD开启代理</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">set</span> <span class="token assign-left variable">http_proxy</span><span class="token operator">=</span>socks5://127.0.0.1:10808 <span class="token comment">#端口号为http的socks5实际端口</span>
<span class="token builtin class-name">set</span> <span class="token assign-left variable">https_proxy</span><span class="token operator">=</span>socks5://127.0.0.1:10808 <span class="token comment">#端口号为https的socks5实际端口</span>
</code></pre></div><p><strong>4.挂载磁盘</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>mkdir <span class="token operator">-</span>p <span class="token operator">/</span>GoogleDrive
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>mkdir -p /Downloads
</code></pre></div><h3 id="确认安装了fuse3"><a href="#确认安装了fuse3" class="header-anchor">#</a> 确认安装了<code>FUSE3</code></h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>apt install fuse3
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>rclone mount ventusoon<span class="token operator">:</span>ventus <span class="token operator">/</span>GoogleDrive \
 <span class="token operator">--</span>umask <span class="token number">0000</span> \
 <span class="token operator">--</span><span class="token keyword">default</span><span class="token operator">-</span>permissions \
 <span class="token operator">--</span>allow<span class="token operator">-</span>non<span class="token operator">-</span>empty \
 <span class="token operator">--</span>allow<span class="token operator">-</span>other \
 <span class="token operator">--</span>transfers <span class="token number">4</span> \
 <span class="token operator">--</span>buffer<span class="token operator">-</span>size 32M \
 <span class="token operator">--</span>low<span class="token operator">-</span>level<span class="token operator">-</span>retries <span class="token number">200</span>
 <span class="token operator">--</span>dir<span class="token operator">-</span>cache<span class="token operator">-</span>time 12h
 <span class="token operator">--</span>vfs<span class="token operator">-</span>read<span class="token operator">-</span>chunk<span class="token operator">-</span>size 32M
 <span class="token operator">--</span>vfs<span class="token operator">-</span>read<span class="token operator">-</span>chunk<span class="token operator">-</span>size<span class="token operator">-</span>limit 1G
</code></pre></div><p><strong>5.配置开机自动挂载</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cat <span class="token operator">&gt;</span> <span class="token operator">/</span>etc<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>rclone<span class="token punctuation">.</span>service <span class="token operator">&lt;&lt;</span><span class="token constant">EOF</span>
<span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
Description<span class="token operator">=</span>Rclone
AssertPathIsDirectory<span class="token operator">=</span>LocalFolder
After<span class="token operator">=</span>network<span class="token operator">-</span>online<span class="token punctuation">.</span>target
<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
Type<span class="token operator">=</span>simple
ExecStart<span class="token operator">=</span><span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>rclone mount ventusoon<span class="token operator">:</span>ventus <span class="token operator">/</span>GoogleDrive \
 <span class="token operator">--</span>umask <span class="token number">0000</span> \
 <span class="token operator">--</span><span class="token keyword">default</span><span class="token operator">-</span>permissions \
 <span class="token operator">--</span>allow<span class="token operator">-</span>non<span class="token operator">-</span>empty \
 <span class="token operator">--</span>allow<span class="token operator">-</span>other \
 <span class="token operator">--</span>buffer<span class="token operator">-</span>size 32M \
 <span class="token operator">--</span>dir<span class="token operator">-</span>cache<span class="token operator">-</span>time 12h \
 <span class="token operator">--</span>vfs<span class="token operator">-</span>read<span class="token operator">-</span>chunk<span class="token operator">-</span>size 64M \
 <span class="token operator">--</span>vfs<span class="token operator">-</span>read<span class="token operator">-</span>chunk<span class="token operator">-</span>size<span class="token operator">-</span>limit 1G
ExecStop<span class="token operator">=</span><span class="token operator">/</span>bin<span class="token operator">/</span>fusermount <span class="token operator">-</span>u LocalFolder
Restart<span class="token operator">=</span>on<span class="token operator">-</span>abort
User<span class="token operator">=</span>root
<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
WantedBy<span class="token operator">=</span><span class="token keyword">default</span><span class="token punctuation">.</span>target
<span class="token constant">EOF</span>
</code></pre></div><p><strong>挂载成功后，输入<code>df -h</code>命令即可看到挂载的磁盘</strong></p> <p><strong>6.常用命令</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>systemctl start rclone
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>systemctl enable rclone
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>systemctl stop rclone
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>systemctl status rclone
</code></pre></div><p><strong>7.<code>Transmission</code>添加<code>rlone</code>挂载在<code>GoogleDrive</code>上的路径</strong></p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token operator">/</span>GoogleDrive
</code></pre></div><h1 id="live-torrent"><a href="#live-torrent" class="header-anchor">#</a> <em><code>Live-torrent</code></em></h1> <table><thead><tr><th>Work</th> <th>Web</th> <th>Tools</th></tr></thead> <tbody><tr><td>live-torrent</td> <td><a href="https://github.com/Davenchy/live-torrent" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/live-torrent.png" alt="live-torrent"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><a href="https://hub.docker.com/r/helloz/transmission" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/docker.png" alt="docker"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p><strong>1.镜像源</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>davenchy<span class="token operator">/</span>live<span class="token operator">-</span>torrent
</code></pre></div><p><strong>2.安装运行</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>docker run <span class="token operator">--</span>restart<span class="token operator">=</span>always <span class="token operator">--</span>name live<span class="token operator">-</span>torrent <span class="token operator">-</span>d <span class="token operator">-</span>p <span class="token number">8080</span><span class="token operator">:</span><span class="token number">8080</span> davenchy<span class="token operator">/</span>live<span class="token operator">-</span>torrent
</code></pre></div><p><strong>3.在<code>Cloudflare</code>中解析二级域名<code>live.example.com</code></strong></p> <p><strong>4.添加反向代理到<code>live.example.com</code></strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>代理名称 Live<span class="token operator">-</span>torrent
目标<span class="token constant">URL</span>  <span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">8080</span>  发送域名 $host
</code></pre></div><h1 id="cloudflare-warp"><a href="#cloudflare-warp" class="header-anchor">#</a> <em><code>Cloudflare WARP</code></em></h1> <table><thead><tr><th>Work</th> <th>Web</th> <th>Use</th></tr></thead> <tbody><tr><td>Cloudflare WARP</td> <td><a href="https://github.com/P3TERX/warp.sh" target="_blank" rel="noopener noreferrer"><img src="/images/server-building/cloudflare.png" alt="cloudflare"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><a href="https://p3terx.com/archives/cloudflare-warp-configuration-script.html" target="_blank" rel="noopener noreferrer">使用教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p><strong>功能菜单</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>bash <span class="token operator">&lt;</span><span class="token punctuation">(</span>curl <span class="token operator">-</span>fsSL git<span class="token punctuation">.</span>io<span class="token operator">/</span>warp<span class="token punctuation">.</span>sh<span class="token punctuation">)</span> menu
</code></pre></div><p><strong><code>WARP WireGuard</code> 双栈全局网络</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>bash <span class="token operator">&lt;</span><span class="token punctuation">(</span>curl <span class="token operator">-</span>fsSL git<span class="token punctuation">.</span>io<span class="token operator">/</span>warp<span class="token punctuation">.</span>sh<span class="token punctuation">)</span> d
</code></pre></div><p><strong><code>IPv4</code> 网络</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>bash <span class="token operator">&lt;</span><span class="token punctuation">(</span>curl <span class="token operator">-</span>fsSL git<span class="token punctuation">.</span>io<span class="token operator">/</span>warp<span class="token punctuation">.</span>sh<span class="token punctuation">)</span> <span class="token number">4</span>
</code></pre></div><p><strong><code>IPv6</code> 网络</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>bash <span class="token operator">&lt;</span><span class="token punctuation">(</span>curl <span class="token operator">-</span>fsSL git<span class="token punctuation">.</span>io<span class="token operator">/</span>warp<span class="token punctuation">.</span>sh<span class="token punctuation">)</span> <span class="token number">6</span>
</code></pre></div><p><strong><code>WARP 官方客户端</code> <code>SOCKS5</code> 代理</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>bash <span class="token operator">&lt;</span><span class="token punctuation">(</span>curl <span class="token operator">-</span>fsSL git<span class="token punctuation">.</span>io<span class="token operator">/</span>warp<span class="token punctuation">.</span>sh<span class="token punctuation">)</span> s5
</code></pre></div><h2 id="后记"><a href="#后记" class="header-anchor">#</a> 后记</h2> <h2 id="感谢"><a href="#感谢" class="header-anchor">#</a> 感谢</h2> <p><a href="https://github.com/guodongxiaren/README" target="_blank" rel="noopener noreferrer">@guodongxiaren<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://www.hostcli.com" target="_blank" rel="noopener noreferrer">@HostCLi<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://github.com/jinwyp/one_click_script" target="_blank" rel="noopener noreferrer">@jinwyp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://github.com/Xhofe/alist" target="_blank" rel="noopener noreferrer">@Xhofe<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://github.com/vaxilu/x-ui" target="_blank" rel="noopener noreferrer">@vaxilu<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://hub.docker.com/r/enwaiax/x-ui" target="_blank" rel="noopener noreferrer">@enwaiax<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://github.com/XIU2/CloudflareSpeedTest" target="_blank" rel="noopener noreferrer">@XIU2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://github.com/helloxz/docker-transmission" target="_blank" rel="noopener noreferrer">@helloxz<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://www.moerats.com/archives/491" target="_blank" rel="noopener noreferrer">@moerats<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://github.com/P3TERX/warp.sh" target="_blank" rel="noopener noreferrer">@P3TERX<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr></div></section> <footer class="footer">
  © 2023
  <i class="icon-user"></i>
  Ventus
  <br>
  Powered by
  <a href="https://vuepress.vuejs.org/" rel="noopener" target="_blank">VuePress</a>
  | Theme
  <a href="https://github.com/viko16/vuepress-theme-simple" rel="noopener" target="_blank">Simple</a></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.daa4b047.js" defer></script><script src="/assets/js/0.64ac24e1.js" defer></script><script src="/assets/js/24.36b5ef6d.js" defer></script>
  </body>
</html>
