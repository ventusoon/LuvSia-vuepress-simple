(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{246:function(e,t,a){"use strict";a.r(t);var r=a(14),s=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("blockquote",[t("p",[t("em",[t("strong",[e._v("Using DDNS and Port forwarding to achieve remote access to devices on an internal network")])])])]),e._v(" "),t("h1",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),t("ul",[t("li",[t("p",[t("strong",[e._v("最近迷上了AI画图软件 "),t("em",[t("code",[e._v("stable-diffusion-webui")])]),e._v(" ，由于它对 "),t("em",[t("code",[e._v("GPU")])]),e._v(" 的依赖很大，我只能使用家里的电脑来炼丹（也就一张6年前的1060😥），奈何又在外地上班，只能走进了我一直望而却步的动态域名解析服务，来实现远程控制家中电脑，以及其他网络设备的目的。")])]),e._v(" "),t("p",[t("img",{attrs:{src:"/images/DDNS/Z.jpg",alt:"Z",title:":smirk:"}}),e._v(" "),t("img",{attrs:{src:"/images/DDNS/B.jpg",alt:"D",title:":smirk:"}}),e._v(" "),t("img",{attrs:{src:"/images/DDNS/0.jpg",alt:"B",title:":smirk:"}})])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("写本篇教程（备忘录），一是彰显成就感，二是带给大家一些思路，让有相同需求的朋友少走弯路（毕竟我找了很多教程都没有说清楚DDNS到底是个什么，又要怎么使用）。")])])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://baike.baidu.com/item/ddns/670146",target:"_blank",rel:"noopener noreferrer"}},[t("em",[e._v("DDNS")]),t("OutboundLink")],1),e._v("（全名："),t("em",[e._v("Dynamic Domain Name Server")]),e._v("），动态域名服务，说人话就是将家中内网的动态 "),t("code",[e._v("ipv4")]),e._v(" 地址映射到一个固定的域名解析服务上。")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.cloudflare.com/",target:"_blank",rel:"noopener noreferrer"}},[t("em",[e._v("Cloudflare")]),t("OutboundLink")],1),e._v(" 全球知名的DNS服务商。")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/jeessy2/ddns-go",target:"_blank",rel:"noopener noreferrer"}},[t("em",[e._v("DDNS-GO")]),t("OutboundLink")],1),e._v(" 超好用的DDNS解析服务工具。感谢作者大大解决了我最关键的问题。")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://baike.baidu.com/item/%E5%85%AC%E7%BD%91IP",target:"_blank",rel:"noopener noreferrer"}},[e._v("公网 "),t("em",[e._v("IP")]),t("OutboundLink")],1),e._v(" 不得不说电信的服务水平，半天时间真就给我开通了，这里就不说这玩意儿怎么用了，接触网络的人基本都知道，虽然现在有很多办法可以绕过公网 "),t("em",[t("code",[e._v("IP")])]),e._v(" 来访问内网，但是通过我的测试，用了很多的远程连接服务和内网穿透工具，还是最原始的办法性价比更高，体验更是一流。")]),e._v(" "),t("p",[t("img",{attrs:{src:"/images/DDNS/1.png",alt:"RDP",title:"可以看到这里的延迟十分之低"}})])])]),e._v(" "),t("h2",{attrs:{id:"开工"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开工"}},[e._v("#")]),e._v(" 开工")]),e._v(" "),t("ul",[t("li",[t("p",[t("strong",[e._v("开始之前先简单说下我家里的网络布局，弱电箱一个光猫桥接模式，一个主路由负责拨号，卧室一个 "),t("em",[t("code",[e._v("K2P")])]),e._v(" 路由 "),t("em",[t("code",[e._v("ap")])]),e._v(" 模式，一个旧笔记本电脑充当软路由（旁路由），安装了 "),t("em",[t("code",[e._v("PVE")])]),e._v(" ，"),t("em",[t("code",[e._v("PVE")])]),e._v(" 上使用了 "),t("em",[t("code",[e._v("openWRT")])]),e._v("，还有一台台式电脑，忘了在 "),t("em",[t("code",[e._v("visio")])]),e._v(" 上画出来。")])]),e._v(" "),t("p",[t("img",{attrs:{src:"/images/DDNS/2.png",alt:"网络布局",title:"网络布局图"}})])]),e._v(" "),t("li",[t("p",[e._v("不要问我为什么不在 "),t("em",[t("code",[e._v("openWRT")])]),e._v(" 上 "),t("em",[t("code",[e._v("DHCP")])]),e._v(" ，我试了很多次都无法联网，可能是因为网口绑定了 "),t("em",[t("code",[e._v("MAC")])]),e._v(" 地址，我也不知道怎么取消绑定，所以我只能在主路由上绑定我电脑的 "),t("em",[t("code",[e._v("MAC")])]),e._v(" 才能上网。（可能也不是这个原因，我在 "),t("em",[t("code",[e._v("openWRT")])]),e._v(" 上绑定 "),t("em",[t("code",[e._v("WAN")])]),e._v(" 口地址也不能上网。）"),t("strong",[e._v("我家的网络环境真的太复杂了😥")])])])]),e._v(" "),t("h2",{attrs:{id:"正式开始"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#正式开始"}},[e._v("#")]),e._v(" 正式开始")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("下载"),t("a",{attrs:{href:"https://github.com/jeessy2/ddns-go/releases",target:"_blank",rel:"noopener noreferrer"}},[t("em",[t("code",[e._v("DDNS-GO")])]),t("OutboundLink")],1),e._v("到本地并解压，使用管理员权限CD到根目录")])])]),e._v(" "),t("p",[e._v("安装")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("ddns-go.exe "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n")])])]),t("p",[e._v("卸载")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("ddns-go.exe "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" uninstall\n")])])]),t("p",[t("img",{attrs:{src:"/images/DDNS/3.png",alt:"DDNS-GO",title:"DDNS-GO"}})]),e._v(" "),t("ul",[t("li",[t("p",[t("strong",[e._v("安装好后，在服务中可以看到 "),t("em",[t("code",[e._v("ddns-go")])]),e._v(" 服务，并设置自启动")])]),e._v(" "),t("p",[t("img",{attrs:{src:"/images/DDNS/4.png",alt:"DDNS-GO服务",title:"DDNS-GO服务开启"}})])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("打开 "),t("a",{attrs:{href:"http://127.0.0.1:9876",target:"_blank",rel:"noopener noreferrer"}},[t("em",[t("code",[e._v("http://127.0.0.1:9876")])]),t("OutboundLink")],1),e._v("，可以看到 "),t("em",[t("code",[e._v("ddns-go")])]),e._v(" 支持很多家动态解析服务商")])]),e._v(" "),t("p",[t("img",{attrs:{src:"/images/DDNS/5.png",alt:"DDNS-GO配置1",title:"DDNS-GO页面"}})])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("去 "),t("em",[t("code",[e._v("cloudflare")])]),e._v(" 获取 "),t("em",[t("code",[e._v("API")])]),e._v(" 令牌既上图中的 "),t("em",[t("code",[e._v("Token")])]),e._v(" ，重点注意区域资源要选所有区域")])]),e._v(" "),t("p",[t("img",{attrs:{src:"/images/DDNS/6.png",alt:"cloudflare配置1",title:"cloudflare配置"}}),e._v(" "),t("img",{attrs:{src:"/images/DDNS/7.png",alt:"cloudflare配置2",title:"一定要选所有区域"}})])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("回到 "),t("em",[t("code",[e._v("DDNS-GO")])]),e._v(" 中如下图，像我一样配置即可，有公网的只勾选 "),t("em",[t("code",[e._v("IPv4")])]),e._v(" ，没有公网的选 "),t("em",[t("code",[e._v("IPv6")])]),e._v(" （我两个都有，所以都选了，你也可以，经测试无伤大雅），在主机名后面填上你的"),t("code",[e._v("域名")]),e._v("。至于如何获得 "),t("em",[t("code",[e._v("IPv6")])]),e._v(" ，这个我下次再做一个详细的教程。（推荐一个好用的"),t("a",{attrs:{href:"https://cf-ns.com/cdn-cgi/trace",target:"_blank",rel:"noopener noreferrer"}},[e._v("CF国内API"),t("OutboundLink")],1),e._v("，可以准确获取你的 "),t("em",[t("code",[e._v("IP")])]),e._v(" 本地地址，无论你是否使用科学上网工具）")])]),e._v(" "),t("p",[t("img",{attrs:{src:"/images/DDNS/8.png",alt:"DDNS-GO配置2",title:"IPv4"}}),e._v(" "),t("img",{attrs:{src:"/images/DDNS/9.png",alt:"DDNS-GO配置3",title:"IPv6"}}),e._v(" "),t("img",{attrs:{src:"/images/DDNS/10.png",alt:"DDNS-GO配置4",title:"选择是否外网连接，以及设置访问账号密码"}})])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("点击保存后，成功后，你会在 "),t("em",[e._v("Cloudflare")]),e._v(" 上你的域名 "),t("em",[t("code",[e._v("dns")])]),e._v(" 服务中看到你已经解析了的A记录（IPv4地址）或者AAAA记录（IPv6地址），"),t("em",[t("code",[e._v("ddns-go")])]),e._v(" 中你也可以看到解析成功的提示")])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("到此，你终于成功解析你的动态IP，在主路由、旁路由上设置好端口转发服务，就可以随时随地访问家中的设备。")])])])]),e._v(" "),t("h2",{attrs:{id:"抽时间-再把如何有效的进行端口转发记录下来-以防我这个狗脑子又忘了"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#抽时间-再把如何有效的进行端口转发记录下来-以防我这个狗脑子又忘了"}},[e._v("#")]),e._v(" 抽时间，再把如何有效的进行端口转发记录下来，以防我这个狗脑子又忘了")])])}),[],!1,null,null,null);t.default=s.exports}}]);